<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
<h:body>

	<ui:composition template="/template/commonLayout.xhtml">

		<ui:define name="content">

			<h:form id="returnPassword">

				<div class="row PageBar">

					<div class="col-sm-12 PageTitle">#{bundle['returnPassword']}</div>

				</div>

				<div class="row">
				<p:growl id="msgs" showDetail="true" />
					<div class="col-xs-4">
						#{bundle['email']}
					</div>

					<div class="col-xs-8">
						<p:inputText id="email" required="true"
							placeholder="#{bundle['email']}"
							requiredMessage="#{bundle['emailRequired']}"
							validatorMessage="#{bundle['companyEmailvalidationmessage']}"
							value="#{resetPassword.email}"
							class="form-control">
							<f:validateRegex
								pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />

						</p:inputText>
						<p:messages id="emailmsgs" />
					</div>
				</div>


				<div class="row BtnDiv">
					<div class="col-xs-4 text-center">

						<p:commandButton value="#{bundle['sendbutton']}"
							action="#{resetPassword.sendEmailtoResetPassword}" update="emailmsgs" onclick="PF('statusDialog').show()" oncomplete="PF('statusDialog').hide()"
							styleClass="DoneBtnStyle" validateClient="true" ajax="true" />
					</div>
				</div>
				<div class="col-md-3 col-xs-0"></div>

<p:dialog widgetVar="statusDialog" modal="true" draggable="false" closable="false" resizable="false" showHeader="false">
    <p:graphicImage library="images" name="ajax-load.gif" />
</p:dialog>

			</h:form>
		</ui:define>

	</ui:composition>

</h:body>

</html>